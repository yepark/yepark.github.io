---
layout: single
title: "[iOS] Core Data 사용법"
date: 2021-04-23
comments: true
categories:
  - ios
tags: [iOS, Objective-C]
# 목차
toc: true
toc_sticky: false
toc_label: "목차"
---

## Core Data 사용법

### iOS에서 데이터 핸들링..
Core Data는 데이터를 많이 다룰일이 없어서 쓸일이 없었다. 이번에 한번 써보자 생각하고 좀 찾아보니 괜찮은것 같아서 정리 해볼려고 한다.  
일반적으로 클라이언트에서 데이터를 저장할때 파일로 저장하거나 SQLite 같은 라이브러리를 사용한다. 저장할 데이터가 별로 없는 경우에 나같은 경우는 NSUserDefaults를 사용했다. NSUserDefaults는 설정 정보등을 저장할때 많이 사용한다. 또한, 중요 데이터의 경우 키체인을 사용해서 데이터를 저장했다. 사용자의 데이터 정보는 서버에서 받아오는 경우가 대부분이기 때문에 지금까지는 문제가 없었다...  

### Core Data?
보통 클라이언트에서 데이터를 다룰때 SQLite를 쓰는데, 이걸 사용하려면 라이브러리 관리도 해줘야 하고.. 쿼리문도 만들어서 써야한다. 이걸 쉽게 해주는게 Core Data라고 생각하면 된다.
단순히 데이터 저장 때문이면.. Core Data를 써야하겠다는 생각이 들지는 않았을것 같다. 내가 Core Data를 써야겠다고 느낀 이유는 프로젝트를 하다보면 모듈의 구조 및 클래스간의 관계.. 그리고 어떻게 하면 유연하게 코드를 짤까를 항상 고민하게 되는데.. 프로젝트의 모델 클래스들을 이 Core Data를 통하여 휘발성으로 관리 할수 있겠다고 생각이 들어서이다. Core Data는 자바를 해보신 분들은 JPA같은 ORM이라고 생각하면 된다.

Core Data는 Persistence를 이용하여 단순하게 데이터를 저장하지 않고(**NSInmemoryStoreType**) 사용하거나 영구적으로 저장해서(**NSSQLiteStoreType**) 사용할수 있다.(이외에도 있으나 잘 사용안함)

### 사용법
```swift

```  


2. 일단 datamodel 파일을 생성하고 entity명을 넣어주고 클래스 디파인을 해주면 알아서 해당 클래스가 생성이된. 이클래스는 mapobject머시기를 상속 받고 있음.
3. 해당 entity를 context에 저장하여 읽고 쓰기를 할수 있음..
